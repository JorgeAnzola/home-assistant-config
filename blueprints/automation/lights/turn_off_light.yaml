---
blueprint:
  name: Turn off light and its relative input boolean based on an event
  description: >
    A blueprint that turns off the selected light when an event occurs

  domain: automation

  input:
    event_type:
      name: Event type
    event_data:
      name: Event data
    light_entity:
      name: Light entity ID
    input_boolean_warm_light:
      name: Input boolean warm light
    input_boolean_white_light:
      name: Input boolean white light

trigger:
  - platform: event
    event_type: !input event_type
    event_data: !input event_data
  - platform: state
    entity_id: !input input_boolean_white_light
    from: 'off'
    to: 'on'
  - platform: state
    entity_id: !input input_boolean_warm_light
    from: 'off'
    to: 'on'

condition:
  - condition: state
    entity_id: !input light_entity
    state: "on"

action:
  - service: light.turn_off
    target:
      entity_id: !input light_entity
  - service: input_boolean.turn_off
    target:
      entity_id: !input input_boolean_warm_light
  - service: input_boolean.turn_off
    target:
      entity_id: !input input_boolean_white_light
